<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Add a new server</title>
  <script type="text/javascript" src="../../node_modules/material-design-lite/material.min.js"></script>
  <link rel="stylesheet" href="../../node_modules/material-design-lite/material.min.css">
  <style>
    .mdl-layout {
    	align-items: center;
      justify-content: center;
    }
    .mdl-layout__content {
    	padding: 24px;
    	flex: none;
    }
  </style>
</head>

<body>

  <div class="mdl-layout mdl-js-layout mdl-color--grey-100">
    <main class="mdl-layout__content">
      <div class="mdl-card mdl-shadow--6dp">
        <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
          <h2 class="mdl-card__title-text">Add a server</h2>
        </div>
        <div class="mdl-card__supporting-text">
          <form action="#">
            <div class="mdl-textfield mdl-js-textfield">
              <input class="mdl-textfield__input" type="text" id="host" />
              <label class="mdl-textfield__label" for="host">Host</label>
            </div>
            <div class="mdl-textfield mdl-js-textfield">
              <input class="mdl-textfield__input" type="text" id="username" />
              <label class="mdl-textfield__label" for="username">Username</label>
            </div>
            <div class="mdl-textfield mdl-js-textfield">
              <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="port">
              <label class="mdl-textfield__label" for="port">Port</label>
              <span class="mdl-textfield__error">Input is not a number!</span>
            </div>
            <div class="mdl-textfield mdl-js-textfield">
              <input class="mdl-textfield__input" type="text" id="defaultPath">
              <label class="mdl-textfield__label" for="defaultPath">Default path</label>
            </div>
          </form>
        </div>
        <div class="mdl-card__actions mdl-card--border">
          <button class="mdl-button mdl-button--raised mdl-js-button mdl-js-ripple-effect" id="button-close">Close</button>
          <button class="mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect" id="button-save">Add</button>
        </div>
      </div>
    </main>
  </div>
</body>

<script>
  'use strict';
  const ipcRenderer = require('electron').ipcRenderer;
  const buttonClose = document.querySelector('#button-close');
  buttonClose.addEventListener('click', () => {
    window.close();
  });
  const buttonSave = document.querySelector('#button-save');
  buttonSave.addEventListener('click', () => {
    ipcRenderer.send('add-server', {
      'host': document.getElementById('host').value,
      'username': document.getElementById('username').value,
      'port': document.getElementById('port').value,
      'defaultPath': document.getElementById('defaultPath').value
    });
    window.close();
  });
</script>

</html>
