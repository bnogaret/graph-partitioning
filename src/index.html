<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Graph partitioning test</title>
  <script type="text/javascript" src="../node_modules/material-design-lite/material.min.js"></script>
  <link rel="stylesheet" href="../node_modules/material-design-lite/material.min.css">
</head>

<body>
  <h1>Graph partitioning test</h1>
  <p>
    We are using node
    <script>
      document.write(process.versions.node)
    </script>, Chrome
    <script>
      document.write(process.versions.chrome)
    </script>, and Electron
    <script>
      document.write(process.versions.electron)
    </script>.
  </p>
  <button id="displayLinksBtn" style="display: none" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Display Links</button>
  <button id="show-notification" type="button" class="mdl-button">Show notification</button>
  <dialog class="mdl-dialog">
    <h4 class="mdl-dialog__title">Show the edges</h4>
    <div class="mdl-dialog__content">
      <p>
        Show edges may entails to slow down the computation do you still want to show them ?
        <p>
    </div>
    <div class="mdl-dialog__actions">
      <button type="button" class="mdl-button agree">Agree</button>
      <button type="button" class="mdl-button close">Disagree</button>
    </div>
  </dialog>

  <label for="switch1" id="label_color" style="display: none" class="mdl-switch mdl-js-switch mdl-js-ripple-effect">
    <input type="checkbox" id="switch1" class="mdl-switch__input">
    <span class="mdl-switch__label">Color graph</span>
  </label>

  <button id="demo-show-snackbar" class="mdl-button mdl-js-button mdl-button--raised" type="button">Show Snackbar</button>
  <div id="demo-snackbar-example" class="mdl-js-snackbar mdl-snackbar">
    <div class="mdl-snackbar__text"></div>
    <button class="mdl-snackbar__action" type="button"></button>
  </div>

  <script>
    'use strict';
    const rendering = require('./rendering');
    var renderLinksBtn = document.getElementById('displayLinksBtn');
    var dialog = document.querySelector('dialog');

    renderLinksBtn.addEventListener('click', function () {
      dialog.showModal();
    });

    dialog.querySelector('.agree').addEventListener('click', function () {
      rendering.loadNewGraphWithLinks();
      dialog.close();
    });

    dialog.querySelector('.close').addEventListener('click', function () {
      dialog.close();
    });

    function createToast(message) {
      var snackbar = document.createElement('div'),
        text = document.createElement('div');
      snackbar.classList.add('mdl-snackbar', 'mdl-js-snackbar');
      text.classList.add('mdl-snackbar__text');
      text.innerText = message;
      snackbar.appendChild(text);
      document.body.appendChild(snackbar);
      // Remove after 10 seconds
      setTimeout(function () {
        //snackbar.remove();
      }, 10000);
    }

    var showNotification = document.querySelector('#show-notification');
    showNotification.addEventListener('click', function () {
      console.log('This is a test');
      createToast('Yes');
    });

    var snackbarContainer = document.querySelector('#demo-snackbar-example');
    var showSnackbarButton = document.querySelector('#demo-show-snackbar');
    var handler = function (event) {
      showSnackbarButton.style.backgroundColor = '';
    };
    showSnackbarButton.addEventListener('click', function () {
      'use strict';
      showSnackbarButton.style.backgroundColor = '#' +
        Math.floor(Math.random() * 0xFFFFFF).toString(16);
      var data = {
        message: 'Button color changed.',
        timeout: 2000,
        actionHandler: handler,
        actionText: 'Undo'
      };
      snackbarContainer.MaterialSnackbar.showSnackbar(data);
    });

    const t = require('./applicationMenu.js')
    t.createApplicationMenu();
  </script>
</body>

</html>